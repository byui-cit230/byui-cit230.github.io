<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Latter-day Prophets</title>
  <meta name="description" content="This is a JSON consumption activity.">
  <link rel="icon" type="image/png" href="../../favicon.ico">
  <link rel="apple-touch-icon" href="../../apple-touch-icon.png">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css">
  <link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet">
  <link rel="stylesheet" href="css/prophets.css">
</head>

<body>

  <header>
    <h1>Latter-day Prophets</h1>
  </header>
  <main>
    <div class="cards">
    </div>
  </main>
  <footer>
    Susan B. Smith | BYU-Idaho | CIT 230
  </footer>

  <script>
    // fetch JSON file from given location on github
    fetch('https://byui-cit230.github.io/lessons/lesson-09/data/latter-day-prophets.json')
      .then(function (response) {
        return response.json();
      })
      .then(function (jsonObject) {
        console.table(jsonObject); // temporary testing

        const prophets = jsonObject['prophets'];

        for (let i = 0; i < prophets.length; i++) {
          let card = document.createElement('section');
          let h2 = document.createElement('h2');
          let bdate = document.createElement('p');
          let bplace = document.createElement('p');
          let image = document.createElement('img');

          h2.textContent = prophets[i].name + ' ' + prophets[i].lastname;
          bdate.textContent = 'Date of Birth: ' + prophets[i].birthdate;
          bplace.textContent = 'Place of Birth: ' + prophets[i].birthplace;
          image.setAttribute('src', prophets[i].imageurl);
          image.setAttribute('alt', prophets[i].name + ' ' + prophets[i].lastname);

          card.appendChild(h2);
          card.appendChild(bdate);
          card.appendChild(bplace);
          card.appendChild(image);

          document.querySelector('div.cards').appendChild(card);
        }
      });
  </script>

</body>

</html>